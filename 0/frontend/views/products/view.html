<div class="product" ng-controller="ProductItemController">
	<errors></errors>
  <div class='pull-right btn-group'>
    <button class="btn" ng-click="addSimilarProduct()">
      <i class="icon-file"></i>
      <span>{{"Create similar product" | i18n}}</span>
    </button>
    <button ng-click="editModel()" class="btn">
        <i class="icon-edit"></i>
        <span >{{"Edit" |i18n}}</span>
    </button>
  </div>
  <div class='control-group head'>
		<h2>{{'Number' |i18n}}
			<span ng-if="!edit">{{product.number}}</span>
		</h2>
    <div class='default-img wapper'>
      <img ng-if="imageHost" ng-src='{{defaultImage}}'>
    </div>
	</div>
	
	
  <tabset  class='nav-pills nav-stacked' direction ="left">
		<tab heading="{{'Property' | i18n}}">
      <div class='control-group catalog'>
        <h3>{{product.catalog}}</h3>
      </div>
      
			<form class="form-horizontal">
				<div class='control-group' ng-repeat='field in schema.property.default'>
          <label class="control-label">{{field.name | i18n}} {{field.unit?"("+field.unit+")":""}}</label>
					<div class="controls">
						<span class='value' name="field.name">{{product.property.default[field.name]}}</span>
					</div>
				</div>
			</form>
    
			<form class="form-horizontal">
				<div class='control-group' ng-repeat='field in product.property.custom'>
          <label class="control-label">{{field.name||'' | i18n}} {{field.unit?"("+field.unit+")":""}}</label>
					<div class="controls">
            <span class='value' name="field.value">{{field.value}}</span>
					</div>
				</div>
			</form>
		</tab>
		<tab heading="{{'Pictures' | i18n}}">
      <div class="image-tab">
        <loading ng-if="!imageHost"></loading>
        <div class="images" ng-if="imageHost" ng-class="(edit)?'span7':''">
          <div class="box" ng-repeat="img in product.images">
            <div class="thumbnails-wapper" ng-click="viewImage($index)">
              <img  ng-src="{{getImageURL(img.name,100)}}"/>
            </div>
            <button class="btn btn-link delete" ng-if="edit" ng-click="removeImage($index)">Delete</button>
          </div>
        </div>
      </div>
    </tab>
    <tab heading="{{'Components' | i18n}}">
      <productlist products="product.components" fixed="true"></productlist>
    </tab>
  </tabset>
  <loading ng-if="!product.uid"></loading>
</div>
